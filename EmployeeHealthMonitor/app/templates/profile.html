{% extends "base.html" %}

{% block title %}Профиль пользователя{% endblock %}
     
{% block content %}
<div class="container my-5">
  <h1 class="mb-4 text-white text-center">Профиль</h1>
  <div class="card p-4">
    <h5><strong>ФИО: </strong>{{ user.last_name }} {{ user.first_name }} {{ user.middle_name or '' }}</h5>
    <h5><strong>Email: </strong>{{ user.email }}</h5>
    <h5><strong>Дата рождения: </strong>{{ user.birth_date }}</h5>
    
    {% if health_data %}
      <div class="mt-4">
        <h4 class="border-bottom pb-2">Медицинские данные:</h4>
        <div class="row">
          <div class="col-md-6">
            <h5><strong>Пол:</strong> {{ health_data.gender or 'Не указано' }}</h5>
            <h5><strong>Рост:</strong> {{ health_data.height }} см</h5>
            <h5><strong>Вес:</strong> {{ health_data.weight }} кг</h5>
            <h5><strong>ИМТ:</strong> {{ "%.1f"|format(health_data.bmi) }}</h5>
          </div>
          <div class="col-md-6">
            <h5><strong>Давление:</strong> {{ health_data.systolic }}/{{ health_data.diastolic }} мм рт. ст.</h5>
            <h5><strong>Пульс:</strong> {{ health_data.heart_rate }} уд/мин</h5>
            <h5><strong>Кислород:</strong> {{ health_data.blood_oxygen }}%</h5>
            <h5><strong>Температура:</strong> {{ health_data.temperature }}°C</h5>
          </div>
        </div>
        <p class="text-muted">Обновлено: {{ health_data.date.strftime('%d.%m.%Y') }}</p>
        <a href="{{ url_for('health.add_data') }}" class="btn btn-primary mt-3">Редактировать данные</a>
      </div>
    {% else %}
      <div class="alert alert-warning mt-4">
        Вы еще не добавили медицинские данные.
        <a href="{{ url_for('health.add_data') }}" class="alert-link">Добавить данные</a>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}